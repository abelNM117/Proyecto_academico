{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>{% block title %} Sistema Academico {% endblock %}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
  <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
  <link href="{% static 'css/estilo1.css' %}" rel="stylesheet">
  <link rel="icon" href="{% static 'Imagenes/icono.ico' %}">
</head>

<body class="sb-nav-fixed">
  <nav class="sb-topnav navbar navbar-expand navbar-dark  bg-color-f">
    <!-- Navbar Brand-->
    <a class="navbar-brand ps-3" href="{% url 'inicio' %}">Sistema Academico</a>
    <!-- Sidebar Toggle-->
    <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i
        class="fas fa-bars"></i></button>
    <!-- Navbar Search-->
    <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
    </form>
    <!-- Navbar-->
    {% csrf_token %}
    <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown"
          aria-expanded="false">
          <i class="fas fa-user fa-fw "></i>{{request.user.username}}</a>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
          <li><a class="dropdown-item" href="#!">Ajustes</a></li>
          <li><a class="dropdown-item" href="#">Registro de actividades</a></li>
          <li>
            <hr class="dropdown-divider" />
          </li>
          <li><a class="dropdown-item" href="{% url 'logout' %}">Salir</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <div id="layoutSidenav">
    <div id="layoutSidenav_nav">
      <nav class="sb-sidenav accordion sb-sidenav-dark bg-color-f" id="sidenavAccordion">
        <div class="sb-sidenav-menu">
          <div class="nav">
            {% if user.is_authenticated %}

            {% for rol_user in user.rol_user_set.all %}

            {% if rol_user.rol.nombre == "ADMINISTRADOR" %}

            <div class="sb-sidenav-menu-heading">Menú Administrador</div>
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapsePages"
              aria-expanded="false" aria-controls="collapsePages">
              <div class="sb-nav-link-icon"><i class="fas fa-folder-open"></i></div>
              Admisión
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="collapsePages" aria-labelledby="headingTwo" data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav accordion" id="sidenavAccordionPages">
                <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#pagesCollapseAuth"
                  aria-expanded="false" aria-controls="pagesCollapseAuth">
                  <div class="sb-nav-link-icon"><i class="fas fa-folder-open"></i></div>
                  Mantenimiento
                  <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                </a>
                <div class="collapse" id="pagesCollapseAuth" aria-labelledby="headingOne"
                  data-bs-parent="#sidenavAccordionPages">
                  <nav class="sb-sidenav-menu-nested nav">
                    <a class="nav-link" href="{% url 'estudiantes_m' %}">
                      <div class="sb-nav-link-icon"><i class="fas fa-folder-open"></i></div>
                      Estudiantes
                    </a>
                    <a class="nav-link" href="{% url 'profesor_m' %}">
                      <div class="sb-nav-link-icon"><i class="fas fa-folder-open"></i></div>
                      Profesores
                    </a>
                  </nav>
                </div>
                <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#pagesCollapseError"
                  aria-expanded="false" aria-controls="pagesCollapseError">
                  <div class="sb-nav-link-icon"><i class="fas fa-folder-open"></i></div>
                  ReportMant
                  <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                </a>
                <div class="collapse" id="pagesCollapseError" aria-labelledby="headingOne"
                  data-bs-parent="#sidenavAccordionPages">
                  <nav class="sb-sidenav-menu-nested nav">
                    <a class="nav-link" href="">
                      <div class="sb-nav-link-icon"><i class="fas fa-folder-open"></i></div>
                      ReporteEst
                    </a>
                    <a class="nav-link" href="">
                      <div class="sb-nav-link-icon"><i class="fas fa-folder-open"></i></div>
                      ReporteEmp
                    </a>
                  </nav>
                </div>
              </nav>
            </div>


            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapse22"
            aria-expanded="false" aria-controls="collapse22">
            <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
            Mantenimiento
            <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
          </a>


          <div class="collapse" id="collapse22" aria-labelledby="headingOne"
            data-bs-parent="#sidenavAccordion">
            <nav class="sb-sidenav-menu-nested nav">
              <a class="nav-link" href="{% url 'periodo_m' %}">
                <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
                Periodo
              </a>
              <a class="nav-link" href="{% url 'jornada_m' %}">
                <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                Jornada
              </a>
              <a class="nav-link" href="{% url 'curso_m' %}">
                <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                Curso
              </a>
              
              <a class="nav-link" href="{% url 'paralelo_m' %}">
                <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                Paralelo
              </a>
              <!-- <a class="nav-link" href="{% url 'trimestrep_m' %}">
                <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                Trimestre/Parcial
              </a> -->

              <a class="nav-link" href="{% url 'materia_m' %}">
                <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                Materia
              </a>

              <a class="nav-link" href="{% url 'profecm_m' %}">
                <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
               Asignar Curso
              </a>

            </nav>
          </div>


            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapsematri"
              aria-expanded="false" aria-controls="collapsematri">
              <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
              Matriculación
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="collapsematri" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">

                <a class="nav-link" href="{% url 'validarm_m' %}">
                  <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                  Validar/Matricula
                </a>
                <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                  Pre-Registro
                </a>
                <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                  Asignaciones
                </a>
                <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                  Reporte/ Matriculación
                </a>
              </nav>
            </div>





            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseregistro"
              aria-expanded="false" aria-controls="collapseregistro">
              <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
              Registro Notas
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>


            <div class="collapse" id="collapseregistro" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="#">
                  <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
                  Notas Estudiantes
                </a>
              </nav>
            </div>
<!-- 
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapsereporte"
              aria-expanded="false" aria-controls="collapsereporte">
              <div class="sb-nav-link-icon"><i class="fas fa-columns"></i></div>
              Reportes Especiales
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="collapsereporte" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="{% url 'inicio' %}">algo</a>
              </nav>
            </div> -->

            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseconf"
              aria-expanded="false" aria-controls="collapseconf">
              <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
              configuraciones
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="collapseconf" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="{% url 'usuario' %}">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  Usuarios
                </a>
                <a class="nav-link" href="{% url 'roles' %}">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  Roles
                </a>
                <a class="nav-link" href="{% url 'rolUser' %}">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  Permisos
                </a>
                <!-- <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  Menu
                </a>
                <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  Modulo
                </a>
                <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  Acciones
                </a>
                <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  Unidad
                </a>
                <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  Reporte Conf
                </a> -->
                <a class="nav-link" href="">
                  <div class="sb-nav-link-icon"><i class="fas fa-cog"></i></div>
                  SMTP
                </a>

              </nav>
            </div>
            {% endif %}

            {% if rol_user.rol.nombre == "ESTUDIANTE" %}

            <div class="sb-sidenav-menu-heading">Menú Estudiante</div>
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapse1"
              aria-expanded="false" aria-controls="collapse1">
              <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
              Matricula Online
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>


            <div class="collapse" id="collapse1" aria-labelledby="headingOne"
              data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="{% url 'actualizacionEstudiante' request.user.id %}">
                  <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
                  Actualización Datos
                </a>
              </nav>
            </div>

            <div class="collapse" id="collapse1" aria-labelledby="headingOne"
            data-bs-parent="#sidenavAccordion">
            <nav class="sb-sidenav-menu-nested nav">
              <a class="nav-link" href="{% url 'matricula' request.user.id %}">
                <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
                Matrícula
              </a>
            </nav>
          </div>

            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapse2"
            aria-expanded="false" aria-controls="collapse2">
            <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
           Consulta
            <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
          </a>


          <div class="collapse" id="collapse2" aria-labelledby="headingOne"
            data-bs-parent="#sidenavAccordion">
            <nav class="sb-sidenav-menu-nested nav">
              <a class="nav-link" href="{% url 'notasm_m' request.user.id %}">
                <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
                Nota
              </a>
            </nav>
          </div>


            {% endif %}


            {% if rol_user.rol.nombre == "PROFESOR" %}
            <div class="sb-sidenav-menu-heading">Menú Profesor</div>
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseregistro"
              aria-expanded="false" aria-controls="collapseregistro">
              <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
              Registro Notas
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>


            <div class="collapse" id="collapseregistro" aria-labelledby="headingOne"
              data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="{% url 'notaa' request.user.id %}">
                  <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
                  Agregar Notas
                </a>
              </nav>
            </div>

           
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseregistroP"
              aria-expanded="false" aria-controls="collapseregistroP">
              <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
              Registro
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>


            <div class="collapse" id="collapseregistroP" aria-labelledby="headingOne"
              data-bs-parent="#sidenavAccordion">
              <nav class="sb-sidenav-menu-nested nav">
                <a class="nav-link" href="{% url 'mostrarp' request.user.id %}">
                  <div class="sb-nav-link-icon"><i class="fas fa-chart-bar"></i></div>
                  Registro Personal
                </a>
              </nav>
            </div>
            {% endif %}

            {% endfor%}
            {% endif %}
          </div>
        </div>
    </div>

{% block content %} 



    
    <div id="layoutSidenav_content">
      <main>


        <div class="container-fluid px-4">
          <h1 class="mt-4">Panel</h1>
          <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item active"></li>
          </ol>



          <div class="row">

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-primary shadow h-100 py-2 mx-4 ">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                    Admin</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">{{admin}}</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-user fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-success shadow h-100 py-2 mx-4 ">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                    ESTUDIANTES</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">{{estudiantes}}</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-user-graduate fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-info shadow h-100 py-2 mx-4">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Profesores
                                </div>
                                <div class="row no-gutters align-items-center">
                                    <div class="col-auto">
                                        <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{profesores}}</div>
                                    </div>
                          
                                </div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-users fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pending Requests Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-warning shadow h-100 py-2 mx-4">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                    Total</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">{{total_users}}</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-users fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>





            </div>
          </div>

        </div>
      </main>

    </div>
  
{% endblock %}
  </div>
{% block script %} {% endblock %}
<br>
<br>
<br>

  <!-- Footer -->
  <footer class="py-4 bg-light mt-auto">
      <div class="container-fluid px-4">
          <div class="d-flex align-items-center justify-content-end small mt-auto">
              <div>
                <div class="text-center ">&copy; Sistema Académico. Todos los derechos reservados.</div>
              </div>
          </div>
      </div>
  </footer>
  
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  {% if messages %}
  {% for message in messages %}
  <script>
      {% if message.tags == 'success' %}
      Swal.fire({
          "title": 'Felicitaciones',
          "text": "{{ message }}",
          "confirmButtonColor": "#0d6efd",
          "icon": 'success'
      });
      {% elif message.tags == 'warning' %}
      Swal.fire({
          "title": 'Advertencia',
          "text": "{{ message }}",
          "confirmButtonColor": "#e74c3c",
          "icon": 'warning'
      });
      {% endif %}
  </script>
  {% endfor %}
{% endif %}

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="{% static 'js/scripts.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"crossorigin="anonymous"></script>
    <script src="{% static 'js/datatables-simple-demo.js' %}"></script>
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
  
</body>
</html>